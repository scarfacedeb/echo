/*! Echo v1.5.0 | (c) 2014 @toddmotto | MIT license | github.com/toddmotto/echo */
!function(e,t,n){"use strict"
"function"==typeof define&&define.amd?define(n):"undefined"!=typeof module&&module.exports?module.exports=n():t[e]=n()}("Echo",this,function(){"use strict"
function e(){var e,t,n,o=[],r=function(t){var n=t.getBoundingClientRect()
return(n.top>=0&&n.left>=0&&n.top)<=(window.innerHeight||document.documentElement.clientHeight)+e},l=function(){var e=o.length
if(e>0)for(var t=0;e>t;t++){var l=o[t]
l&&r(l)&&(l.src=l.getAttribute("data-echo"),o.splice(t,1),e=o.length,t--)}else document.removeEventListener?global.removeEventListener("scroll",i):global.detachEvent("onscroll",i),clearTimeout(n)},i=function(){clearTimeout(n),n=setTimeout(l,t)},a=function(n){var r=document.querySelectorAll("[data-echo]"),a=n||{}
e=parseInt(a.offset||0),t=parseInt(a.throttle||250)
for(var c=0;c<r.length;c++)o.push(r[c])
l(),document.addEventListener?(global.addEventListener("scroll",i,!1),global.addEventListener("load",i,!1)):(global.attachEvent("onscroll",i),global.attachEvent("onload",i))}
return{init:a,render:l}}return e})
